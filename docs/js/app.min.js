(()=>{"use strict";!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),function(){if(window.innerWidth<1390){const e=document.querySelector(".menu-burger"),t=document.querySelector(".navigation"),n=document.querySelector("body");e.onclick=function(){e.classList.toggle("active"),t.classList.toggle("active"),n.classList.toggle("lock")},t.onclick=function(){e.classList.remove("active"),t.classList.remove("active"),n.classList.remove("lock")};const r=document.querySelector(".header__body"),o=document.querySelector(".search_mb"),c=document.querySelector(".searchbar__close-icon");o.onclick=function(){r.classList.add("active")},c.onclick=function(){r.classList.remove("active")}}}(),function(){const e=document.querySelector(".mycart"),t=document.querySelector(".mycart_mb"),n=document.querySelector(".mycart-popup"),r=document.querySelector("body");e.onclick=()=>{n.classList.add("active"),r.classList.add("lock")},t.onclick=()=>{n.classList.add("active"),r.classList.add("lock")},n.onclick=function(e){let t=e.target;(t.closest(".mycart-popup__goback")||t==n)&&(n.classList.remove("active"),r.classList.remove("lock"))}}(),function(e="max"){const t="_dynamic_adapt_",n="data-da",r=function(){const t=[];return[...document.querySelectorAll(`[${n}]`)].forEach((e=>{const r=e.getAttribute(n),[o,c,i]=r.split(",").map((e=>e.trim())),l=document.querySelector(o);var s;l&&t.push({parent:e.parentElement,element:e,to:l,breakpoint:c??"767",order:void 0!==i?(s=i,isNaN(s)?i:Number(i)):"last",index:-1})})),function(t){const n="min"===e?1:0;return[...t].sort(((e,t)=>e.breakpoint===t.breakpoint?e.order===t.order?0:"first"===e.order||"last"===t.order?-1*n:"last"===e.order||"first"===t.order?1*n:0:(e.breakpoint-t.breakpoint)*n))}(t)}();[...new Set(r.map((({breakpoint:t})=>`(${e}-width: ${t}px),${t}`)))].map((e=>{const[t,n]=e.split(",");return{query:t,breakpoint:n}})).forEach((e=>{const n=window.matchMedia(e.query),o=function(e,n){return function(){e.matches?(n.forEach((e=>{!function(e){const{to:n,element:r,order:o}=e;e.index=function(e,t){return[...t.children].indexOf(e)}(e.element,e.element.parentElement),r.classList.add(t),"last"===o||o>=n.children.length?n.append(r):"first"!==o?n.children[o].before(r):n.prepend(r)}(e)})),n.reverse()):(n.forEach((e=>{e.element.classList.contains(t)&&function(e){const{parent:n,element:r,index:o}=e;r.classList.remove(t),o>=0&&n.children[o]?n.children[o].before(r):n.append(r)}(e)})),n.reverse())}}(n,r.filter((({breakpoint:t})=>t===e.breakpoint)));n.addEventListener("change",o),o()}))}(),document.querySelector(".scroll-top-btn").onclick=()=>{window.scroll({top:0,left:0,behavior:"smooth"})},document.querySelector(".sort-btn")&&function(){const e=document.querySelector(".sort-btn"),t=e.querySelector(".sort-btn__title"),n=e.querySelector(".sort-btn__title p"),r=e.querySelectorAll(".sort-btn__label");t.addEventListener("click",(()=>{"active"===e.getAttribute("data-state")?e.setAttribute("data-state",""):e.setAttribute("data-state","active")}));for(let t=0;t<r.length;t++)r[t].addEventListener("click",(t=>{n.textContent=t.target.textContent,e.setAttribute("data-state",""),"Rising price"==t.target.textContent?o():"Falling price"==t.target.textContent?c():"Alphabet"==t.target.textContent&&i()}));function o(){let e=document.querySelector(".items-container__container");for(let t=0;t<e.children.length;t++)for(let n=t;n<e.children.length;n++){let r=e.children[t].querySelector(".item-cart__price").textContent,o=r.slice(1,r.length-3),c=e.children[n].querySelector(".item-cart__price").textContent;+o>+c.slice(1,c.length-3)&&l(e.replaceChild(e.children[n],e.children[t]),e.children[t])}}function c(){let e=document.querySelector(".items-container__container");for(let t=0;t<e.children.length;t++)for(let n=t;n<e.children.length;n++){let r=e.children[t].querySelector(".item-cart__price").textContent,o=r.slice(1,r.length-3),c=e.children[n].querySelector(".item-cart__price").textContent;+o<+c.slice(1,c.length-3)&&l(e.replaceChild(e.children[n],e.children[t]),e.children[t])}}function i(){let e=document.querySelector(".items-container__container");for(let t=0;t<e.children.length;t++)for(let n=t;n<e.children.length;n++)e.children[t].querySelector(".item-cart__name").textContent>e.children[n].querySelector(".item-cart__name").textContent&&l(e.replaceChild(e.children[n],e.children[t]),e.children[t])}function l(e,t){t.parentNode.insertBefore(e,t.nextSibling)}i()}(),document.querySelector(".make-order-btn")&&function(){let e=document.querySelector(".make-order-btn");document.querySelector("form");const t=document.querySelector(".message-popup"),n=(document.querySelector(".make-order-btn"),document.querySelector("body"));function r(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function o(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function c(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}function i(e){return!(e.value.length===e.maxLength)}t.addEventListener("click",(e=>{t.classList.remove("active"),n.classList.remove("lock")})),e.addEventListener("click",(function(e){e.preventDefault(),0===function(e){let t=0,n=document.querySelectorAll("._req");for(const e of n){const n=e;o(n),n.classList.contains("_email")?c(n)&&(r(n),t++):n.classList.contains("_phone")?i(n)&&(r(n),t++):("checkbox"===n.getAttribute("type")&&!1===n.checked||""===n.value)&&(r(n),t++)}return t}()&&(t.classList.add("active"),n.classList.add("lock"))}))}(),document.querySelector(".sizes")&&(function(){const e=document.querySelector(".sizes"),t=document.querySelectorAll(".sizes__section");e.addEventListener("click",(e=>{let n=e.target;t.forEach((e=>{e.classList.remove("selected")})),n.classList.add("selected")}))}(),function(){let e=1;const t=document.querySelector(".amount__minus"),n=document.querySelector(".amount__plus");function r(e){document.querySelector(".amount__number").textContent=e}t.onclick=()=>{e>1&&e--,r(e)},n.onclick=()=>{e<9&&e++,r(e)}}()),function(){let e=[];if(localStorage.getItem("itemsList")){let t=JSON.parse(localStorage.getItem("itemsList")),n=0;t.forEach((t=>{e[n]=t,n++})),console.log(e)}else console.log("There`s no items in LocalStorage");if(e.forEach((n=>t(n,e.indexOf(n)))),n(),document.querySelector(".making-order")){let t=0;e.forEach((e=>{const n=orderItemTempl.content.cloneNode(!0),r=document.querySelector(".order-summary__items-container");n.querySelector(".order-summary-item__title").textContent=e.title,e.size?n.querySelector(".order-summary-item__size span").textContent=e.size:n.querySelector(".order-summary-item__size").remove(),n.querySelector(".order-summary-item__amount span").textContent=e.amount,n.querySelector(".order-summary-item__price").textContent="$"+e.price,t+=e.price*e.amount,r.append(n)})),document.querySelector(".order-summary__total-cost span").textContent="$"+t}function t(t,r){const o=cartItemTempl.content.cloneNode(!0),c=document.querySelector(".mycart-popup__items-list"),i=o.querySelector(".mycart-item");i.setAttribute("index",r),o.querySelector(".mycart-item__close-btn").onclick=()=>{!function(t){e.splice(t.getAttribute("index"),1),console.log(e),t.remove();let n=document.querySelectorAll(".mycart-item"),r=0;n.forEach((e=>e.setAttribute("index",r++)))}(i)},o.querySelector(".mycart-item__name").textContent=t.title,t.size?(o.querySelectorAll(".sizes-list__item").forEach((e=>{e.textContent==t.size&&e.classList.add("selected")})),function(t){const n=t.querySelector(".mycart-item").getAttribute("index"),r=t.querySelector(".sizes-list");r.onclick=t=>{t.target.closest(".sizes-list__item")&&(r.querySelectorAll(".sizes-list__item").forEach((e=>e.classList.remove("selected"))),t.target.classList.add("selected"),e[n].size=t.target.textContent)}}(o)):o.querySelector(".mycart-item__size").remove(),o.querySelector(".mycart-amount__number").textContent=t.amount,o.querySelector(".mycart-item__price").textContent="$"+t.price,function(t){const r=t.querySelector(".mycart-item").getAttribute("index"),o=t.querySelector(".mycart-amount"),c=o.querySelector(".mycart-amount__number");let i=parseInt(c.textContent);o.onclick=t=>{t.target.closest(".mycart-amount__add")?(i<9&&i++,c.textContent=i,e[r].amount=i,n()):t.target.closest(".mycart-amount__diff")&&(i>1&&i--,c.textContent=i,e[r].amount=i,n())}}(o),c.append(o)}function n(){let t=0;e.forEach((e=>t+=e.price*e.amount)),document.querySelector(".mycart-popup__sum span").textContent="$"+t}document.querySelector(".description__add-to-cart-btn .button")&&(document.querySelector(".description__add-to-cart-btn .button").onclick=()=>{let r=new Object;if(r.title=document.querySelector(".item-description__title").textContent,r.amount=parseInt(document.querySelector(".amount__number").textContent),r.price=parseInt(document.querySelector(".description__price span").textContent.slice(1)),document.querySelector(".sizes")&&(r.size=document.querySelector(".sizes__section.selected").textContent),e.find((e=>e.title===r.title))){const e=document.querySelector(".message-popup"),t=document.querySelector("body");e.classList.add("active"),t.classList.add("lock"),e.addEventListener("click",(n=>{e.classList.remove("active"),t.classList.remove("lock")}))}else t(r,e.length),e.push(r),n();console.log(r)}),window.onbeforeunload=()=>localStorage.setItem("itemsList",JSON.stringify(e))}()})();